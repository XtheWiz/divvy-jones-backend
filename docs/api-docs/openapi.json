{"openapi":"3.0.3","info":{"title":"Divvy-Jones API","description":"# Divvy-Jones API\n\nA comprehensive expense splitting application API for managing shared expenses among groups.\n\n## Features\n- **Authentication**: JWT-based auth with email/password and OAuth (Google)\n- **Groups**: Create and manage expense groups with join codes\n- **Expenses**: Track shared expenses with flexible splitting options\n- **Settlements**: Record and confirm debt payments\n- **Recurring Expenses**: Set up automatic recurring expense rules\n- **Analytics**: Spending summaries, category breakdowns, and trends\n- **Multi-currency**: Support for multiple currencies with exchange rates\n\n## Authentication\nMost endpoints require authentication via Bearer token:\n```\nAuthorization: Bearer <access_token>\n```\n\nAccess tokens expire after 15 minutes. Use the refresh token endpoint to get new tokens.\n\n## Rate Limiting\nAuth endpoints are rate limited to 5 requests per minute per IP.","version":"1.0.0","contact":{"name":"Divvy-Jones Support","email":"support@divvy-jones.app"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"servers":[{"url":"http://localhost:3000","description":"Local development"}],"tags":[{"name":"Health","description":"Health check endpoints"},{"name":"Auth","description":"Authentication and authorization"},{"name":"Users","description":"User profile and settings management"},{"name":"Groups","description":"Group creation, membership, and management"},{"name":"Expenses","description":"Expense tracking and management"},{"name":"Settlements","description":"Debt settlement workflow"},{"name":"Recurring","description":"Recurring expense rules"},{"name":"Analytics","description":"Spending analytics and reports"},{"name":"Balances","description":"Balance calculations and debt optimization"},{"name":"Currencies","description":"Currency and exchange rate endpoints"},{"name":"Notifications","description":"User notifications"},{"name":"Activity","description":"Activity logs and audit trails"},{"name":"Attachments","description":"File attachments for expenses/settlements"},{"name":"Comments","description":"Comments on expenses and settlements"},{"name":"Reactions","description":"Reactions to expenses and settlements"},{"name":"Export","description":"Data export endpoints"},{"name":"Admin","description":"Administrative endpoints"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT access token obtained from login or refresh endpoints"}},"schemas":{}},"security":[{"bearerAuth":[]}],"paths":{"/health":{"get":{"operationId":"getHealth","tags":["Health"],"summary":"Health check","description":"Check if the API is running and responsive","security":[],"responses":{"200":{}}}},"/v1/":{"get":{"operationId":"getV1","responses":{"200":{}}}},"/v1/auth/register":{"post":{"parameters":[],"operationId":"postV1AuthRegister","tags":["Auth"],"summary":"Register a new user","description":"Create a new user account with email, password, and display name. A verification email will be sent to confirm the email address.","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password","displayName"],"properties":{"email":{"format":"email","type":"string"},"password":{"minLength":8,"type":"string"},"displayName":{"minLength":1,"maxLength":100,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["email","password","displayName"],"properties":{"email":{"format":"email","type":"string"},"password":{"minLength":8,"type":"string"},"displayName":{"minLength":1,"maxLength":100,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["email","password","displayName"],"properties":{"email":{"format":"email","type":"string"},"password":{"minLength":8,"type":"string"},"displayName":{"minLength":1,"maxLength":100,"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/auth/login":{"post":{"parameters":[],"operationId":"postV1AuthLogin","tags":["Auth"],"summary":"Login with email and password","description":"Authenticate with email and password to receive access and refresh tokens.","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"format":"email","type":"string"},"password":{"minLength":1,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"format":"email","type":"string"},"password":{"minLength":1,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"format":"email","type":"string"},"password":{"minLength":1,"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/auth/refresh":{"post":{"parameters":[],"operationId":"postV1AuthRefresh","tags":["Auth"],"summary":"Refresh access token","description":"Exchange a valid refresh token for new access and refresh tokens. Refresh tokens are single-use and rotated on each use.","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"minLength":1,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"minLength":1,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"minLength":1,"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/auth/forgot-password":{"post":{"parameters":[],"operationId":"postV1AuthForgot-password","tags":["Auth"],"summary":"Request password reset","description":"Send a password reset email to the specified address. Always returns success to prevent email enumeration.","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"format":"email","type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["email"],"properties":{"email":{"format":"email","type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["email"],"properties":{"email":{"format":"email","type":"string"}}}}}},"responses":{"200":{}}}},"/v1/auth/reset-password":{"post":{"parameters":[],"operationId":"postV1AuthReset-password","tags":["Auth"],"summary":"Reset password with token","description":"Complete password reset using the token from the reset email. Token is single-use and expires after 1 hour.","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","token","newPassword"],"properties":{"email":{"format":"email","type":"string"},"token":{"minLength":1,"type":"string"},"newPassword":{"minLength":8,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["email","token","newPassword"],"properties":{"email":{"format":"email","type":"string"},"token":{"minLength":1,"type":"string"},"newPassword":{"minLength":8,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["email","token","newPassword"],"properties":{"email":{"format":"email","type":"string"},"token":{"minLength":1,"type":"string"},"newPassword":{"minLength":8,"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/auth/verify-email":{"get":{"parameters":[{"schema":{"type":"string","minLength":1},"in":"query","name":"token","required":true}],"operationId":"getV1AuthVerify-email","tags":["Auth"],"summary":"Verify email address","description":"Verify email address using the token from the verification email. Token expires after 24 hours.","security":[],"responses":{"200":{}}}},"/v1/auth/resend-verification":{"post":{"parameters":[],"operationId":"postV1AuthResend-verification","tags":["Auth"],"summary":"Resend verification email","description":"Send a new verification email. Always returns success to prevent email enumeration.","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"format":"email","type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["email"],"properties":{"email":{"format":"email","type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["email"],"properties":{"email":{"format":"email","type":"string"}}}}}},"responses":{"200":{}}}},"/v1/auth/google":{"get":{"operationId":"getV1AuthGoogle","tags":["Auth"],"summary":"Initiate Google OAuth login","description":"Redirects to Google OAuth consent screen. After authorization, Google redirects back to the callback URL.","security":[],"responses":{"200":{}}}},"/v1/auth/google/callback":{"get":{"parameters":[{"schema":{"type":"string"},"in":"query","name":"code","required":false},{"schema":{"type":"string"},"in":"query","name":"state","required":false},{"schema":{"type":"string"},"in":"query","name":"error","required":false}],"operationId":"getV1AuthGoogleCallback","tags":["Auth"],"summary":"Google OAuth callback","description":"Handles the OAuth callback from Google. Creates or links the user account and returns authentication tokens.","security":[],"responses":{"200":{}}}},"/v1/users/me":{"get":{"operationId":"getV1UsersMe","tags":["Users"],"summary":"Get current user profile","description":"Get the authenticated user's profile including email verification status, linked OAuth providers, and account details.","responses":{"200":{}}},"delete":{"operationId":"deleteV1UsersMe","tags":["Users"],"summary":"Request account deletion","description":"Initiate account deletion with a 7-day grace period. A confirmation email is sent. User can cancel during the grace period.","responses":{"200":{}}}},"/v1/users/me/preferences":{"get":{"operationId":"getV1UsersMePreferences","tags":["Users"],"summary":"Get user preferences","description":"Get the authenticated user's notification and display preferences.","responses":{"200":{}}},"put":{"parameters":[],"operationId":"putV1UsersMePreferences","tags":["Users"],"summary":"Update user preferences","description":"Update the authenticated user's notification and display preferences.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"languageCode":{"minLength":2,"maxLength":10,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"},"timezone":{"maxLength":50,"type":"string"},"pushEnabled":{"type":"boolean"},"emailNotifications":{"type":"boolean"},"notifyOnExpenseAdded":{"type":"boolean"},"notifyOnSettlement":{"type":"boolean"},"notifyOnGroupActivity":{"type":"boolean"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"languageCode":{"minLength":2,"maxLength":10,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"},"timezone":{"maxLength":50,"type":"string"},"pushEnabled":{"type":"boolean"},"emailNotifications":{"type":"boolean"},"notifyOnExpenseAdded":{"type":"boolean"},"notifyOnSettlement":{"type":"boolean"},"notifyOnGroupActivity":{"type":"boolean"}}}},"text/plain":{"schema":{"type":"object","properties":{"languageCode":{"minLength":2,"maxLength":10,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"},"timezone":{"maxLength":50,"type":"string"},"pushEnabled":{"type":"boolean"},"emailNotifications":{"type":"boolean"},"notifyOnExpenseAdded":{"type":"boolean"},"notifyOnSettlement":{"type":"boolean"},"notifyOnGroupActivity":{"type":"boolean"}}}}}},"responses":{"200":{}}}},"/v1/users/me/password":{"post":{"parameters":[],"operationId":"postV1UsersMePassword","tags":["Users"],"summary":"Set or change password","description":"Set a password for OAuth users or change existing password. Current password is required if user already has a password.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["newPassword"],"properties":{"newPassword":{"minLength":8,"type":"string"},"currentPassword":{"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["newPassword"],"properties":{"newPassword":{"minLength":8,"type":"string"},"currentPassword":{"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["newPassword"],"properties":{"newPassword":{"minLength":8,"type":"string"},"currentPassword":{"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/users/me/deletion-status":{"get":{"operationId":"getV1UsersMeDeletion-status","tags":["Users"],"summary":"Get deletion status","description":"Check if an account deletion is pending and whether it can still be cancelled.","responses":{"200":{}}}},"/v1/users/me/cancel-deletion":{"post":{"operationId":"postV1UsersMeCancel-deletion","tags":["Users"],"summary":"Cancel account deletion","description":"Cancel a pending account deletion during the 7-day grace period.","responses":{"200":{}}}},"/v1/users/me/data-export":{"get":{"operationId":"getV1UsersMeData-export","tags":["Users"],"summary":"Export user data","description":"Export all user data in JSON format (GDPR compliance). Includes profile, groups, expenses, settlements, and activity logs.","responses":{"200":{}}}},"/v1/groups/":{"post":{"parameters":[],"operationId":"postV1Groups","tags":["Groups"],"summary":"Create a new group","description":"Create a new expense group. The creator automatically becomes the owner. A unique 8-character join code is generated.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"minLength":1,"maxLength":100,"type":"string"},"description":{"maxLength":500,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["name"],"properties":{"name":{"minLength":1,"maxLength":100,"type":"string"},"description":{"maxLength":500,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["name"],"properties":{"name":{"minLength":1,"maxLength":100,"type":"string"},"description":{"maxLength":500,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"}}}}}},"responses":{"200":{}}},"get":{"operationId":"getV1Groups","tags":["Groups"],"summary":"List user's groups","description":"Get all groups the authenticated user belongs to, sorted by most recent activity.","responses":{"200":{}}}},"/v1/groups/join":{"post":{"parameters":[],"operationId":"postV1GroupsJoin","tags":["Groups"],"summary":"Join a group with code","description":"Join an existing group using its join code. New members are assigned the 'member' role.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["joinCode"],"properties":{"joinCode":{"minLength":1,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["joinCode"],"properties":{"joinCode":{"minLength":1,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["joinCode"],"properties":{"joinCode":{"minLength":1,"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/groups/{groupId}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"getV1GroupsByGroupId","tags":["Groups"],"summary":"Get group details","description":"Get detailed information about a specific group including join code. Only accessible to group members.","responses":{"200":{}}},"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"putV1GroupsByGroupId","tags":["Groups"],"summary":"Update group settings","description":"Update group name, description, or default currency. Only owners and admins can modify group settings.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":100,"type":"string"},"description":{"maxLength":500,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":100,"type":"string"},"description":{"maxLength":500,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"}}}},"text/plain":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":100,"type":"string"},"description":{"maxLength":500,"type":"string"},"defaultCurrencyCode":{"minLength":3,"maxLength":3,"type":"string"}}}}}},"responses":{"200":{}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"deleteV1GroupsByGroupId","tags":["Groups"],"summary":"Delete group","description":"Soft delete a group. Only the owner can delete a group. All members are notified of the deletion.","responses":{"200":{}}}},"/v1/groups/{groupId}/members":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"getV1GroupsByGroupIdMembers","tags":["Groups"],"summary":"List group members","description":"Get all members of a group with their roles and join dates. Only accessible to group members.","responses":{"200":{}}}},"/v1/groups/{groupId}/leave":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"postV1GroupsByGroupIdLeave","tags":["Groups"],"summary":"Leave a group","description":"Leave the specified group. Owners must transfer ownership before leaving if they are the only owner. Users with unsettled balances receive a warning but can still leave.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"transferOwnershipTo":{"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"transferOwnershipTo":{"type":"string"}}}},"text/plain":{"schema":{"type":"object","properties":{"transferOwnershipTo":{"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/groups/{groupId}/regenerate-code":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"postV1GroupsByGroupIdRegenerate-code","tags":["Groups"],"summary":"Regenerate join code","description":"Generate a new join code for the group. The old code becomes invalid immediately. Only owners and admins can regenerate codes.","responses":{"200":{}}}},"/v1/groups/{groupId}/balances":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"userId","required":false},{"schema":{"type":"string","minLength":3,"maxLength":3},"in":"query","name":"currency","required":false}],"operationId":"getV1GroupsByGroupIdBalances","tags":["Balances"],"summary":"Get group balances","description":"Calculate and return net balances for all group members, including simplified debt suggestions that minimize the number of transactions needed to settle debts. Optionally convert to a different currency or get individual user balances.","responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"postV1GroupsByGroupIdExpenses","tags":["Expenses"],"summary":"Create expense","description":"Create a new expense in a group. Supports equal, exact, percentage, or weighted splits. The payer must be a group member.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["title","amount","currency","paidBy"],"properties":{"title":{"minLength":1,"maxLength":200,"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currency":{"minLength":3,"maxLength":3,"type":"string"},"paidBy":{"type":"string"},"description":{"maxLength":500,"type":"string"},"category":{"type":"string"},"date":{"type":"string"},"splits":{"type":"object","required":["type"],"properties":{"type":{"anyOf":[{"const":"equal","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"},{"const":"weight","type":"string"}]},"excludeMembers":{"type":"array","items":{"type":"string"}},"values":{"type":"object","patternProperties":{"^(.*)$":{"type":"number"}}}}}}}},"multipart/form-data":{"schema":{"type":"object","required":["title","amount","currency","paidBy"],"properties":{"title":{"minLength":1,"maxLength":200,"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currency":{"minLength":3,"maxLength":3,"type":"string"},"paidBy":{"type":"string"},"description":{"maxLength":500,"type":"string"},"category":{"type":"string"},"date":{"type":"string"},"splits":{"type":"object","required":["type"],"properties":{"type":{"anyOf":[{"const":"equal","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"},{"const":"weight","type":"string"}]},"excludeMembers":{"type":"array","items":{"type":"string"}},"values":{"type":"object","patternProperties":{"^(.*)$":{"type":"number"}}}}}}}},"text/plain":{"schema":{"type":"object","required":["title","amount","currency","paidBy"],"properties":{"title":{"minLength":1,"maxLength":200,"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currency":{"minLength":3,"maxLength":3,"type":"string"},"paidBy":{"type":"string"},"description":{"maxLength":500,"type":"string"},"category":{"type":"string"},"date":{"type":"string"},"splits":{"type":"object","required":["type"],"properties":{"type":{"anyOf":[{"const":"equal","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"},{"const":"weight","type":"string"}]},"excludeMembers":{"type":"array","items":{"type":"string"}},"values":{"type":"object","patternProperties":{"^(.*)$":{"type":"number"}}}}}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"page","required":false},{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"limit","required":false},{"schema":{"type":"string"},"in":"query","name":"dateFrom","required":false},{"schema":{"type":"string"},"in":"query","name":"dateTo","required":false},{"schema":{"type":"string"},"in":"query","name":"category","required":false},{"schema":{"type":"string"},"in":"query","name":"paidBy","required":false}],"operationId":"getV1GroupsByGroupIdExpenses","tags":["Expenses"],"summary":"List expenses","description":"Get paginated list of expenses in a group with optional filters for date range, category, and payer.","responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/{expenseId}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"getV1GroupsByGroupIdExpensesByExpenseId","tags":["Expenses"],"summary":"Get expense details","description":"Get detailed information about a specific expense including all splits and who paid.","responses":{"200":{}}},"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"putV1GroupsByGroupIdExpensesByExpenseId","tags":["Expenses"],"summary":"Update expense","description":"Update an existing expense. Only the creator or group admins can modify expenses. Cannot modify expenses with existing settlements.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"minLength":1,"maxLength":200,"type":"string"},"description":{"maxLength":500,"type":"string"},"amount":{"minimum":0.01,"type":"number"},"category":{"type":"string"},"date":{"type":"string"},"splits":{"type":"object","required":["type"],"properties":{"type":{"anyOf":[{"const":"equal","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"},{"const":"weight","type":"string"}]},"excludeMembers":{"type":"array","items":{"type":"string"}},"values":{"type":"object","patternProperties":{"^(.*)$":{"type":"number"}}}}}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"minLength":1,"maxLength":200,"type":"string"},"description":{"maxLength":500,"type":"string"},"amount":{"minimum":0.01,"type":"number"},"category":{"type":"string"},"date":{"type":"string"},"splits":{"type":"object","required":["type"],"properties":{"type":{"anyOf":[{"const":"equal","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"},{"const":"weight","type":"string"}]},"excludeMembers":{"type":"array","items":{"type":"string"}},"values":{"type":"object","patternProperties":{"^(.*)$":{"type":"number"}}}}}}}},"text/plain":{"schema":{"type":"object","properties":{"title":{"minLength":1,"maxLength":200,"type":"string"},"description":{"maxLength":500,"type":"string"},"amount":{"minimum":0.01,"type":"number"},"category":{"type":"string"},"date":{"type":"string"},"splits":{"type":"object","required":["type"],"properties":{"type":{"anyOf":[{"const":"equal","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"},{"const":"weight","type":"string"}]},"excludeMembers":{"type":"array","items":{"type":"string"}},"values":{"type":"object","patternProperties":{"^(.*)$":{"type":"number"}}}}}}}}}},"responses":{"200":{}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"deleteV1GroupsByGroupIdExpensesByExpenseId","tags":["Expenses"],"summary":"Delete expense","description":"Soft delete an expense. Only the creator or group admins can delete expenses. Cannot delete expenses with existing settlements.","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/suggested":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string","minLength":3,"maxLength":3},"in":"query","name":"currency","required":false}],"operationId":"getV1GroupsByGroupIdSettlementsSuggested","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"postV1GroupsByGroupIdSettlements","tags":["Settlements"],"summary":"Create settlement","description":"Create a new settlement (payment) between two group members. The settlement starts in 'pending' status until confirmed by the payee.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["payerUserId","payeeUserId","amount"],"properties":{"payerUserId":{"type":"string"},"payeeUserId":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currency":{"minLength":3,"maxLength":3,"type":"string"},"note":{"maxLength":500,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["payerUserId","payeeUserId","amount"],"properties":{"payerUserId":{"type":"string"},"payeeUserId":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currency":{"minLength":3,"maxLength":3,"type":"string"},"note":{"maxLength":500,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["payerUserId","payeeUserId","amount"],"properties":{"payerUserId":{"type":"string"},"payeeUserId":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currency":{"minLength":3,"maxLength":3,"type":"string"},"note":{"maxLength":500,"type":"string"}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"page","required":false},{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"limit","required":false},{"schema":{"type":"string"},"in":"query","name":"status","required":false},{"schema":{"type":"string"},"in":"query","name":"involvedUserId","required":false},{"schema":{"type":"string"},"in":"query","name":"dateFrom","required":false},{"schema":{"type":"string"},"in":"query","name":"dateTo","required":false}],"operationId":"getV1GroupsByGroupIdSettlements","tags":["Settlements"],"summary":"List settlements","description":"Get paginated list of settlements in a group with optional filters for status, involved user, and date range.","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"getV1GroupsByGroupIdSettlementsBySettlementId","tags":["Settlements"],"summary":"Get settlement details","description":"Get detailed information about a specific settlement including status history.","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}/confirm":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"putV1GroupsByGroupIdSettlementsBySettlementIdConfirm","tags":["Settlements"],"summary":"Get settlement details","description":"Get detailed information about a specific settlement including status history.","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}/cancel":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"putV1GroupsByGroupIdSettlementsBySettlementIdCancel","tags":["Settlements"],"summary":"Get settlement details","description":"Get detailed information about a specific settlement including status history.","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}/reject":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"putV1GroupsByGroupIdSettlementsBySettlementIdReject","tags":["Settlements"],"summary":"Reject settlement","description":"Reject a pending settlement. Only the payee can reject. An optional reason can be provided.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"reason":{"maxLength":500,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"reason":{"maxLength":500,"type":"string"}}}},"text/plain":{"schema":{"type":"object","properties":{"reason":{"maxLength":500,"type":"string"}}}}}},"responses":{"200":{}}}},"/v1/notifications/read-all":{"put":{"operationId":"putV1NotificationsRead-all","responses":{"200":{}}}},"/v1/notifications/":{"get":{"parameters":[{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"page","required":false},{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"limit","required":false}],"operationId":"getV1Notifications","responses":{"200":{}}}},"/v1/notifications/{id}/read":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"operationId":"putV1NotificationsByIdRead","responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/{expenseId}/attachments/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"postV1GroupsByGroupIdExpensesByExpenseIdAttachments","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["file"],"properties":{"file":{"default":"File","maxSize":10485760,"type":"string","format":"binary"}}}},"multipart/form-data":{"schema":{"type":"object","required":["file"],"properties":{"file":{"default":"File","maxSize":10485760,"type":"string","format":"binary"}}}},"text/plain":{"schema":{"type":"object","required":["file"],"properties":{"file":{"default":"File","maxSize":10485760,"type":"string","format":"binary"}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"getV1GroupsByGroupIdExpensesByExpenseIdAttachments","responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/{expenseId}/attachments/{attachmentId}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true},{"schema":{"type":"string"},"in":"path","name":"attachmentId","required":true}],"operationId":"getV1GroupsByGroupIdExpensesByExpenseIdAttachmentsByAttachmentId","responses":{"200":{}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true},{"schema":{"type":"string"},"in":"path","name":"attachmentId","required":true}],"operationId":"deleteV1GroupsByGroupIdExpensesByExpenseIdAttachmentsByAttachmentId","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}/attachments/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"postV1GroupsByGroupIdSettlementsBySettlementIdAttachments","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["file"],"properties":{"file":{"default":"File","maxSize":10485760,"type":"string","format":"binary"}}}},"multipart/form-data":{"schema":{"type":"object","required":["file"],"properties":{"file":{"default":"File","maxSize":10485760,"type":"string","format":"binary"}}}},"text/plain":{"schema":{"type":"object","required":["file"],"properties":{"file":{"default":"File","maxSize":10485760,"type":"string","format":"binary"}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"getV1GroupsByGroupIdSettlementsBySettlementIdAttachments","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}/attachments/{attachmentId}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true},{"schema":{"type":"string"},"in":"path","name":"attachmentId","required":true}],"operationId":"getV1GroupsByGroupIdSettlementsBySettlementIdAttachmentsByAttachmentId","responses":{"200":{}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true},{"schema":{"type":"string"},"in":"path","name":"attachmentId","required":true}],"operationId":"deleteV1GroupsByGroupIdSettlementsBySettlementIdAttachmentsByAttachmentId","responses":{"200":{}}}},"/v1/groups/{groupId}/activity/":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"limit","required":false},{"schema":{"type":"string"},"in":"query","name":"offset","required":false},{"schema":{"anyOf":[{"const":"expense","type":"string"},{"const":"settlement","type":"string"},{"const":"member","type":"string"},{"const":"group","type":"string"},{"const":"attachment","type":"string"}]},"in":"query","name":"type","required":false},{"schema":{"type":"string"},"in":"query","name":"from","required":false},{"schema":{"type":"string"},"in":"query","name":"to","required":false},{"schema":{"type":"string"},"in":"query","name":"includeArchived","required":false}],"operationId":"getV1GroupsByGroupIdActivity","responses":{"200":{}}}},"/v1/currencies/":{"get":{"operationId":"getV1Currencies","summary":"List supported currencies","description":"Returns all supported currencies with their current exchange rates relative to USD","tags":["Currencies"],"responses":{"200":{}}}},"/v1/currencies/{code}":{"get":{"parameters":[{"schema":{"type":"string","minLength":3,"maxLength":3},"in":"path","name":"code","required":true}],"operationId":"getV1CurrenciesByCode","summary":"Get currency details","description":"Returns details for a specific currency including current exchange rate","tags":["Currencies"],"responses":{"200":{}}}},"/v1/groups/{groupId}/export/csv":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string"},"in":"query","name":"endDate","required":false}],"operationId":"getV1GroupsByGroupIdExportCsv","summary":"Export expenses as CSV","description":"Export all group expenses as a CSV file. Supports date range filtering.","tags":["Export"],"responses":{"200":{}}}},"/v1/groups/{groupId}/export/json":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string"},"in":"query","name":"endDate","required":false}],"operationId":"getV1GroupsByGroupIdExportJson","summary":"Export expenses as JSON","description":"Export all group expenses as a JSON file with full details including attachments metadata.","tags":["Export"],"responses":{"200":{}}}},"/v1/groups/{groupId}/export/pdf":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string"},"in":"query","name":"endDate","required":false}],"operationId":"getV1GroupsByGroupIdExportPdf","summary":"Export expenses as PDF","description":"Export group expense report as a PDF file with summary, expense table, and balance summary. Supports date range filtering.","tags":["Export"],"responses":{"200":{}}}},"/v1/groups/{groupId}/analytics/summary":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string"},"in":"query","name":"endDate","required":false},{"schema":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"monthly","type":"string"}]},"in":"query","name":"period","required":false}],"operationId":"getV1GroupsByGroupIdAnalyticsSummary","summary":"Get spending summary","description":"Get spending summary including totals and per-member breakdown. Supports date range filtering.","tags":["Analytics"],"responses":{"200":{}}}},"/v1/groups/{groupId}/analytics/categories":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string"},"in":"query","name":"endDate","required":false},{"schema":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"monthly","type":"string"}]},"in":"query","name":"period","required":false}],"operationId":"getV1GroupsByGroupIdAnalyticsCategories","summary":"Get category breakdown","description":"Get spending breakdown by category with amounts and percentages. Categories are sorted by total amount descending.","tags":["Analytics"],"responses":{"200":{}}}},"/v1/groups/{groupId}/analytics/trends":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string"},"in":"query","name":"endDate","required":false},{"schema":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"monthly","type":"string"}]},"in":"query","name":"period","required":false}],"operationId":"getV1GroupsByGroupIdAnalyticsTrends","summary":"Get spending trends","description":"Get spending trends over time. Supports daily, weekly, or monthly grouping via the 'period' query parameter.","tags":["Analytics"],"responses":{"200":{}}}},"/v1/groups/{groupId}/recurring-expenses/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"postV1GroupsByGroupIdRecurring-expenses","summary":"Create recurring expense","description":"Create a new recurring expense rule for automatic expense generation.","tags":["Recurring Expenses"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","amount","currencyCode","frequency","startDate","payers","splits"],"properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"category":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currencyCode":{"minLength":3,"maxLength":3,"type":"string"},"frequency":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"biweekly","type":"string"},{"const":"monthly","type":"string"},{"const":"yearly","type":"string"}]},"dayOfWeek":{"minimum":0,"maximum":6,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"maximum":6,"type":"integer"}]},"dayOfMonth":{"minimum":1,"maximum":31,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":31,"type":"integer"}]},"monthOfYear":{"minimum":1,"maximum":12,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":12,"type":"integer"}]},"splitMode":{"anyOf":[{"const":"equal","type":"string"},{"const":"weight","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"}]},"startDate":{"type":"string"},"endDate":{"type":"string"},"payers":{"type":"array","items":{"type":"object","required":["memberId","amount"],"properties":{"memberId":{"type":"string"},"amount":{"minimum":0.01,"type":"number"}}}},"splits":{"type":"array","items":{"type":"object","required":["memberId"],"properties":{"memberId":{"type":"string"},"shareMode":{"type":"string"},"weight":{"minimum":0,"type":"number"},"exactAmount":{"minimum":0,"type":"number"}}}}}}},"multipart/form-data":{"schema":{"type":"object","required":["name","amount","currencyCode","frequency","startDate","payers","splits"],"properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"category":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currencyCode":{"minLength":3,"maxLength":3,"type":"string"},"frequency":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"biweekly","type":"string"},{"const":"monthly","type":"string"},{"const":"yearly","type":"string"}]},"dayOfWeek":{"minimum":0,"maximum":6,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"maximum":6,"type":"integer"}]},"dayOfMonth":{"minimum":1,"maximum":31,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":31,"type":"integer"}]},"monthOfYear":{"minimum":1,"maximum":12,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":12,"type":"integer"}]},"splitMode":{"anyOf":[{"const":"equal","type":"string"},{"const":"weight","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"}]},"startDate":{"type":"string"},"endDate":{"type":"string"},"payers":{"type":"array","items":{"type":"object","required":["memberId","amount"],"properties":{"memberId":{"type":"string"},"amount":{"minimum":0.01,"type":"number"}}}},"splits":{"type":"array","items":{"type":"object","required":["memberId"],"properties":{"memberId":{"type":"string"},"shareMode":{"type":"string"},"weight":{"minimum":0,"type":"number"},"exactAmount":{"minimum":0,"type":"number"}}}}}}},"text/plain":{"schema":{"type":"object","required":["name","amount","currencyCode","frequency","startDate","payers","splits"],"properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"category":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currencyCode":{"minLength":3,"maxLength":3,"type":"string"},"frequency":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"biweekly","type":"string"},{"const":"monthly","type":"string"},{"const":"yearly","type":"string"}]},"dayOfWeek":{"minimum":0,"maximum":6,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"maximum":6,"type":"integer"}]},"dayOfMonth":{"minimum":1,"maximum":31,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":31,"type":"integer"}]},"monthOfYear":{"minimum":1,"maximum":12,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":12,"type":"integer"}]},"splitMode":{"anyOf":[{"const":"equal","type":"string"},{"const":"weight","type":"string"},{"const":"exact","type":"string"},{"const":"percent","type":"string"}]},"startDate":{"type":"string"},"endDate":{"type":"string"},"payers":{"type":"array","items":{"type":"object","required":["memberId","amount"],"properties":{"memberId":{"type":"string"},"amount":{"minimum":0.01,"type":"number"}}}},"splits":{"type":"array","items":{"type":"object","required":["memberId"],"properties":{"memberId":{"type":"string"},"shareMode":{"type":"string"},"weight":{"minimum":0,"type":"number"},"exactAmount":{"minimum":0,"type":"number"}}}}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true}],"operationId":"getV1GroupsByGroupIdRecurring-expenses","summary":"List recurring expenses","description":"Get all recurring expense rules for a group.","tags":["Recurring Expenses"],"responses":{"200":{}}}},"/v1/groups/{groupId}/recurring-expenses/{recurringId}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"recurringId","required":true}],"operationId":"getV1GroupsByGroupIdRecurring-expensesByRecurringId","summary":"Get recurring expense","description":"Get details of a single recurring expense rule.","tags":["Recurring Expenses"],"responses":{"200":{}}},"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"recurringId","required":true}],"operationId":"putV1GroupsByGroupIdRecurring-expensesByRecurringId","summary":"Update recurring expense","description":"Update a recurring expense rule.","tags":["Recurring Expenses"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"category":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currencyCode":{"minLength":3,"maxLength":3,"type":"string"},"frequency":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"biweekly","type":"string"},{"const":"monthly","type":"string"},{"const":"yearly","type":"string"}]},"dayOfWeek":{"minimum":0,"maximum":6,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"maximum":6,"type":"integer"}]},"dayOfMonth":{"minimum":1,"maximum":31,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":31,"type":"integer"}]},"monthOfYear":{"minimum":1,"maximum":12,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":12,"type":"integer"}]},"splitMode":{"type":"string"},"endDate":{"type":"string"},"isActive":{"type":"boolean"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"category":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currencyCode":{"minLength":3,"maxLength":3,"type":"string"},"frequency":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"biweekly","type":"string"},{"const":"monthly","type":"string"},{"const":"yearly","type":"string"}]},"dayOfWeek":{"minimum":0,"maximum":6,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"maximum":6,"type":"integer"}]},"dayOfMonth":{"minimum":1,"maximum":31,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":31,"type":"integer"}]},"monthOfYear":{"minimum":1,"maximum":12,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":12,"type":"integer"}]},"splitMode":{"type":"string"},"endDate":{"type":"string"},"isActive":{"type":"boolean"}}}},"text/plain":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"category":{"type":"string"},"amount":{"minimum":0.01,"type":"number"},"currencyCode":{"minLength":3,"maxLength":3,"type":"string"},"frequency":{"anyOf":[{"const":"daily","type":"string"},{"const":"weekly","type":"string"},{"const":"biweekly","type":"string"},{"const":"monthly","type":"string"},{"const":"yearly","type":"string"}]},"dayOfWeek":{"minimum":0,"maximum":6,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"maximum":6,"type":"integer"}]},"dayOfMonth":{"minimum":1,"maximum":31,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":31,"type":"integer"}]},"monthOfYear":{"minimum":1,"maximum":12,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":12,"type":"integer"}]},"splitMode":{"type":"string"},"endDate":{"type":"string"},"isActive":{"type":"boolean"}}}}}},"responses":{"200":{}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"recurringId","required":true}],"operationId":"deleteV1GroupsByGroupIdRecurring-expensesByRecurringId","summary":"Deactivate recurring expense","description":"Deactivate a recurring expense rule. The rule will no longer generate expenses.","tags":["Recurring Expenses"],"responses":{"200":{}}}},"/v1/admin/archive-activity":{"post":{"parameters":[],"operationId":"postV1AdminArchive-activity","summary":"Archive old activity logs","description":"Manually trigger archival of activity logs older than the retention period. Requires admin API key.","tags":["Admin"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"retentionDays":{"minimum":1,"type":"number"},"dryRun":{"type":"boolean"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"retentionDays":{"minimum":1,"type":"number"},"dryRun":{"type":"boolean"}}}},"text/plain":{"schema":{"type":"object","properties":{"retentionDays":{"minimum":1,"type":"number"},"dryRun":{"type":"boolean"}}}}}},"responses":{"200":{}}}},"/v1/admin/archive-stats":{"get":{"operationId":"getV1AdminArchive-stats","summary":"Get archival statistics","description":"Returns statistics about activity log archival including active records, archived records, and retention settings.","tags":["Admin"],"responses":{"200":{}}}},"/v1/admin/archive-preview":{"get":{"parameters":[{"schema":{"type":"string"},"in":"query","name":"retentionDays","required":false}],"operationId":"getV1AdminArchive-preview","summary":"Preview archival candidates","description":"Returns the count of activity logs that would be archived with the given retention period.","tags":["Admin"],"responses":{"200":{}}}},"/v1/admin/generate-recurring":{"post":{"operationId":"postV1AdminGenerate-recurring","summary":"Generate due recurring expenses","description":"Manually trigger generation of all due recurring expenses. This processes all active recurring rules that have passed their next occurrence date.","tags":["Admin"],"responses":{"200":{}}}},"/v1/admin/cache/stats":{"get":{"operationId":"getV1AdminCacheStats","summary":"Get cache statistics","description":"Returns cache statistics including hit/miss counts, size, and memory usage. Requires admin API key.","tags":["Admin"],"responses":{"200":{}}}},"/v1/admin/cache/clear":{"post":{"operationId":"postV1AdminCacheClear","summary":"Clear all cache entries","description":"Clears all entries from the in-memory cache. Requires admin API key.","tags":["Admin"],"responses":{"200":{}}}},"/v1/admin/cache/invalidate/{prefix}":{"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"prefix","required":true}],"operationId":"deleteV1AdminCacheInvalidateByPrefix","summary":"Invalidate cache entries by prefix","description":"Invalidates all cache entries matching the given prefix. Useful for clearing group-specific cache. Requires admin API key.","tags":["Admin"],"responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/{expenseId}/comments/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"postV1GroupsByGroupIdExpensesByExpenseIdComments","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"minLength":1,"maxLength":2000,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["content"],"properties":{"content":{"minLength":1,"maxLength":2000,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["content"],"properties":{"content":{"minLength":1,"maxLength":2000,"type":"string"}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true},{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"page","required":false},{"schema":{"anyOf":[{"format":"numeric","default":0,"type":"string"},{"type":"number"}]},"in":"query","name":"limit","required":false}],"operationId":"getV1GroupsByGroupIdExpensesByExpenseIdComments","responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/{expenseId}/comments/{commentId}":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true},{"schema":{"type":"string"},"in":"path","name":"commentId","required":true}],"operationId":"putV1GroupsByGroupIdExpensesByExpenseIdCommentsByCommentId","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"minLength":1,"maxLength":2000,"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["content"],"properties":{"content":{"minLength":1,"maxLength":2000,"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["content"],"properties":{"content":{"minLength":1,"maxLength":2000,"type":"string"}}}}}},"responses":{"200":{}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true},{"schema":{"type":"string"},"in":"path","name":"commentId","required":true}],"operationId":"deleteV1GroupsByGroupIdExpensesByExpenseIdCommentsByCommentId","responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/{expenseId}/reactions/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"postV1GroupsByGroupIdExpensesByExpenseIdReactions","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string"}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true}],"operationId":"getV1GroupsByGroupIdExpensesByExpenseIdReactions","responses":{"200":{}}}},"/v1/groups/{groupId}/expenses/{expenseId}/reactions/{type}":{"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"expenseId","required":true},{"schema":{"type":"string"},"in":"path","name":"type","required":true}],"operationId":"deleteV1GroupsByGroupIdExpensesByExpenseIdReactionsByType","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}/reactions/":{"post":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"postV1GroupsByGroupIdSettlementsBySettlementIdReactions","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string"}}}},"text/plain":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string"}}}}}},"responses":{"200":{}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"operationId":"getV1GroupsByGroupIdSettlementsBySettlementIdReactions","responses":{"200":{}}}},"/v1/groups/{groupId}/settlements/{settlementId}/reactions/{type}":{"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"groupId","required":true},{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true},{"schema":{"type":"string"},"in":"path","name":"type","required":true}],"operationId":"deleteV1GroupsByGroupIdSettlementsBySettlementIdReactionsByType","responses":{"200":{}}}}}}